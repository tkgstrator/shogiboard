(function(e){function t(t){for(var i,r,a=t[0],c=t[1],l=t[2],p=0,h=[];p<a.length;p++)r=a[p],Object.prototype.hasOwnProperty.call(n,r)&&n[r]&&h.push(n[r][0]),n[r]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(e[i]=c[i]);u&&u(t);while(h.length)h.shift()();return s.push.apply(s,l||[]),o()}function o(){for(var e,t=0;t<s.length;t++){for(var o=s[t],i=!0,a=1;a<o.length;a++){var c=o[a];0!==n[c]&&(i=!1)}i&&(s.splice(t--,1),e=r(r.s=o[0]))}return e}var i={},n={app:0},s=[];function r(t){if(i[t])return i[t].exports;var o=i[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=i,r.d=function(e,t,o){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(o,i,function(t){return e[t]}.bind(null,i));return o},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/ShogiBoard/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],c=a.push.bind(a);a.push=t,a=a.slice();for(var l=0;l<a.length;l++)t(a[l]);var u=c;s.push([0,"chunk-vendors"]),o()})({0:function(e,t,o){e.exports=o("56d7")},"034f":function(e,t,o){"use strict";var i=o("8a23"),n=o.n(i);n.a},"23a9":function(e,t,o){},2518:function(e,t,o){"use strict";var i=o("23a9"),n=o.n(i);n.a},"56d7":function(e,t,o){"use strict";o.r(t);o("e260"),o("e6cf"),o("cca6"),o("a79d");var i=o("2b0e"),n=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("ShogiBoard")},s=[],r=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"shogiboard"},[o("div",{staticClass:"player"},[o("p",[e._v("☖後手")]),o("div",{staticClass:"capture"},e._l(e.capture.white,(function(t,i){return o("p",{key:i,on:{click:function(o){return e.pickPiece(-1,-1,i,t)}}},[e._v(e._s(e.pieces[i.toUpperCase()])+e._s(t))])})),0)]),o("div",{staticClass:"board"},e._l(e.board,(function(t,i){return o("div",{key:i,staticClass:"container"},e._l(t,(function(t,n){return o("div",{key:n,staticClass:"edge"},[o("p",{class:{blackP:t.match(/[A-Z]/),whiteP:t.match(/[a-z]/),isSelect:i==e.moves.mX&&n==e.moves.mY,empty:t.match(/[-]/)},on:{click:function(o){return e.pickPiece(i,n,t,1)}}},[e._v(e._s(t.match(/[A-z]/)?e.pieces[t.toUpperCase()]:"-"))])])})),0)})),0),o("div",{staticClass:"player"},[o("p",[e._v("☗先手")]),o("div",{staticClass:"capture"},e._l(e.capture.black,(function(t,i){return o("p",{key:i,on:{click:function(o){return e.pickPiece(-1,-1,i,t)}}},[e._v(e._s(e.pieces[i])+e._s(t))])})),0)])])},a=[],c=(o("4160"),o("a630"),o("a434"),o("ac1f"),o("3ca3"),o("466d"),o("5319"),o("1276"),o("159b"),o("0ff2")),l=o("59ca"),u=o.n(l);o("e71f");i["a"].use(c["a"]);var p=u.a.initializeApp({apiKey:"AIzaSyDZN80LeGf2IF2ab7PZwlNMD_SQtK_a7O0",authDomain:"shogiboard.firebaseapp.com",databaseURL:"https://shogiboard.firebaseio.com",projectId:"shogiboard",storageBucket:"shogiboard.appspot.com",messagingSenderId:"168671221298",appId:"1:168671221298:web:082e1d84a23cf6a5f7ce2b",measurementId:"G-R6YKTDL951"}),h=p.firestore(),m={name:"ShogiBoard",data:function(){return{document:[],startpos:String,position:String,board:[[],[],[],[],[],[],[],[],[]],capture:{black:{L:0,N:0,S:0,G:0,B:0,R:0,P:0},white:{l:0,n:0,s:0,g:0,b:0,r:0,p:0}},pieces:{L:"香",N:"桂",S:"銀",G:"金",K:"玉",B:"角",R:"飛",P:"歩","L+":"杏","N+":"圭","S+":"全","B+":"馬","R+":"龍","P+":"と"},row:{1:"a",2:"b",3:"c",4:"d",5:"e",6:"f",7:"g",8:"h",9:"i"},moves:{turn:0,sfen:[],isPicked:!1,mX:null,mY:null,piece:null}}},computed:{},mounted:function(){},watch:{document:{immediate:!1,handler:function(){this.startpos=this.document["startpos"].replace(/1/g,"-").replace(/2/g,"--").replace(/3/g,"---").replace(/4/g,"----").replace(/5/g,"-----").replace(/6/g,"------").replace(/7/g,"-------").replace(/8/g,"--------").replace(/9/g,"---------").split(/[/\s]/),this.startpos.forEach((function(e,t){Array.from(e).forEach((function(e){this[t].push(e)}),this)}),this.board)}},board:{immediate:!0,handler:function(){}}},methods:{isPromoted:function(e){return this.moves.piece.match(/[A-Z]/)?e<=2||this.moves.mX<=2:this.moves.piece.match(/[a-z]/)?e>=6||this.moves.mX>=6:void 0},pickPiece:function(e,t,o,i){return this.moves.isPicked?(this.checkMovePiece(e,t)&&("-"!=o&&(o.match(/[a-z]/)?this.capture.black[o.toUpperCase().replace("+","")]+=1:this.capture.white[o.toLowerCase().replace("+","")]+=1),-1!=this.moves.mX||-1!=this.moves.mY?(this.board[this.moves.mX].splice(this.moves.mY,1,"-"),this.isPromoted(e)&&null==this.moves.piece.match(/[+GKgk]/)?this.board[e].splice(t,1,this.moves.piece+"+"):this.board[e].splice(t,1,this.moves.piece)):(this.moves.piece.match(/[A-Z]/)?this.capture.black[this.moves.piece.replace("+","")]-=1:this.capture.white[this.moves.piece.replace("+","")]-=1,this.board[e].splice(t,1,this.moves.piece)),this.moves.turn+=1),this.moves.mX=null,this.moves.mY=null,void(this.moves.isPicked=!1)):this.moves.isPicked?void console.log(i):this.moves.turn%2==0&&null==o.match(/[A-Z]/)||this.moves.turn%2==1&&null==o.match(/[a-z]/)?void console.log("あなたの手番ではありません"):(this.moves.mX=e,this.moves.mY=t,this.moves.piece=o,void(this.moves.isPicked=!0))},checkMovePiece:function(e,t){return console.log(this.moves.turn,e,t,this.moves.mX,this.moves.mY),-1==this.moves.mX&&-1==this.moves.mY?"-"==this.board[e][t]:this.moves.mX==e&&this.moves.mY==t?(console.log("同じ位置にコマを動かすことはできません"),!1):"-"==this.board[e][t]?(console.log("移動先が空マスです"),!0):this.moves.turn%2?null!=this.board[e][t].match(/[A-Z]/)?(console.log("移動先が相手のコマです"),!0):(console.log("移動先が自分のコマです"),!1):null!=this.board[e][t].match(/[a-z]/)?(console.log("移動先が相手のコマです"),!0):(console.log("移動先が自分のコマです"),!1)}},firestore:function(){return{document:h.collection("KIF").doc("SFEN")}}},d=m,f=(o("2518"),o("2877")),v=Object(f["a"])(d,r,a,!1,null,null,null),b=v.exports,g={name:"App",components:{ShogiBoard:b},data:function(){return{}}},_=g,k=(o("034f"),Object(f["a"])(_,n,s,!1,null,null,null)),y=k.exports,P=o("8c4f"),S=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("ShogiBoard")},w=[],O=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("v-container",[o("h1",[e._v("ShogiBoard")]),o("h2",[e._v(e._s(e.sfen))])])},j=[],B={name:"ShogiBoard",data:function(){return{sfen:[]}},methods:{},firestore:function(){return{sfen:h.collection("KIF").doc("SFEN")}}},C=B,X=o("6544"),x=o.n(X),A=o("a523"),Y=Object(f["a"])(C,O,j,!1,null,null,null),z=Y.exports;x()(Y,{VContainer:A["a"]});var E={name:"ShogiBoard",components:{ShogiBoard:z}},I=E,K=Object(f["a"])(I,S,w,!1,null,null,null),L=K.exports;i["a"].use(P["a"]);var M=[{path:"/",name:"Home",component:L}],N=new P["a"]({mode:"hash",base:"/ShogiBoard/",routes:M}),Z=N,F=o("f309");i["a"].use(F["a"]);var G=new F["a"]({});i["a"].config.productionTip=!1,new i["a"]({router:Z,vuetify:G,render:function(e){return e(y)}}).$mount("#app")},"8a23":function(e,t,o){}});