(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ffd227a6"],{"03a5":function(t,e,n){!function(e,n){t.exports=n()}(window,(function(){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/dist/",n(n.s=23)}([function(t,e,n){"use strict";function i(t,e,n,i,r,o,a,s){var c,u="function"==typeof t?t.options:t;if(e&&(u.render=e,u.staticRenderFns=n,u._compiled=!0),i&&(u.functional=!0),o&&(u._scopeId="data-v-"+o),a?(c=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),r&&r.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(a)},u._ssrRegister=c):r&&(c=s?function(){r.call(this,this.$root.$options.shadowRoot)}:r),c)if(u.functional){u._injectStyles=c;var l=u.render;u.render=function(t,e){return c.call(e),l(t,e)}}else{var f=u.beforeCreate;u.beforeCreate=f?[].concat(f,c):[c]}return{exports:t,options:u}}n.d(e,"a",(function(){return i}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=e.DIALOG_TYPES={ALERT:"alert",CONFIRM:"confirm",PROMPT:"prompt"},r=e.CONFIRM_TYPES={BASIC:"basic",SOFT:"soft",HARD:"hard"};e.ANIMATION_TYPES={FADE:"dg-fade",ZOOM:"dg-zoom",BOUNCE:"dg-bounce"},e.CLASS_TYPES={MAIN_CONTENT:"mainContent",BODY:"body",TITLE:"title",FOOTER:"footer",OK_BTN:"okBtn",CANCEL_BTN:"cancelBtn"},e.DEFAULT_OPTIONS={html:!1,loader:!1,reverse:!1,backdropClose:!1,okText:"Continue",cancelText:"Close",view:null,type:r.BASIC,window:i.CONFIRM,message:"Proceed with the request?",clicksCount:3,animation:"zoom",customClass:"",verification:"continue",verificationHelp:'Type "[+:verification]" below to confirm',promptHelp:'Type in the box below and click "[+:okText]"'}},function(t,e,n){"use strict";n.r(e);var i=n(3),r=n.n(i);for(var o in i)"default"!==o&&function(t){n.d(e,t,(function(){return i[t]}))}(o);e.default=r.a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){return t&&t.__esModule?t:{default:t}}(n(29)),r=n(16);e.default={data:function(){return{dialogsARR:[],registeredViews:{}}},created:function(){document.addEventListener("keydown",this.escapeKeyListener)},destroyed:function(){document.removeEventListener("keydown",this.escapeKeyListener)},watch:{dialogsARR:{handler:function(t){var e=document.getElementsByTagName("body")[0];e&&(t.length&&!e.classList.contains("dg-open")?e.classList.add("dg-open"):!t.length&&e&&e.classList.contains("dg-open")&&e.classList.remove("dg-open"))}}},methods:{commit:function(t){t.escapeKeyClose=!1,this.dialogsARR.push(t)},forceCloseAll:function(){var t=this;this.dialogsARR.forEach((function(e,n){return t.$delete(t.dialogsARR,n)}))},destroyDialog:function(t){var e=(0,r.firstIndex)(this.dialogsARR,t,"id");-1!==e&&this.$delete(this.dialogsARR,e)},escapeKeyListener:function(t){if(27===t.keyCode){var e=-1+this.dialogsARR.length;e>-1&&this.$set(this.dialogsARR[e],"escapeKeyClose",!0)}}},components:{DialogWindow:i.default}}},function(t,e,n){"use strict";n.r(e);var i=n(5),r=n.n(i);for(var o in i)"default"!==o&&function(t){n.d(e,t,(function(){return i[t]}))}(o);e.default=r.a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){return t&&t.__esModule?t:{default:t}}(n(30)),r=n(1);e.default={data:function(){return{show:!0,closed:!1,endedAnimations:[]}},props:{options:{type:Object,required:!0},escapeKeyClose:{type:Boolean,default:!1},registeredViews:{type:Object,default:function(){return{}}}},watch:{escapeKeyClose:function(t){!0===t&&(this.cancelBtnDisabled?this.proceed():this.cancel())}},computed:{animation:function(){var t=this.options.animation.toUpperCase();return r.ANIMATION_TYPES.hasOwnProperty(t)?r.ANIMATION_TYPES[t]:r.ANIMATION_TYPES.ZOOM},loaderEnabled:function(){return!!this.options.loader},dialogView:function(){return(this.options.view?this.registeredViews[this.options.view]:null)||i.default},isHardConfirm:function(){return this.options.window===r.DIALOG_TYPES.CONFIRM&&this.options.type===r.CONFIRM_TYPES.HARD},isPrompt:function(){return this.options.window===r.DIALOG_TYPES.PROMPT}},methods:{closeAtOutsideClick:function(){!0===this.options.backdropClose&&(this.cancelBtnDisabled?this.proceed():this.cancel())},proceed:function(){this.loaderEnabled?(this.switchLoadingState(!0),this.options.promiseResolver({close:this.close,loading:this.switchLoadingState})):(this.options.promiseResolver(!0),this.close())},cancel:function(){!0!==this.loading&&this.close()},close:function(){this.show=!1,this.closed=!0},animationEnded:function(t){this.endedAnimations.push(t),-1!==this.endedAnimations.indexOf("backdrop")&&-1!==this.endedAnimations.indexOf("content")&&(this.options.promiseRejecter(!1),this.$emit("close",this.options.id))}},beforeDestroy:function(){!1===this.closed&&(this.cancelBtnDisabled?this.proceed():this.cancel())}}},function(t,e,n){"use strict";n.r(e);var i=n(7),r=n.n(i);for(var o in i)"default"!==o&&function(t){n.d(e,t,(function(){return i[t]}))}(o);e.default=r.a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(n(13)),r=a(n(31)),o=a(n(32));function a(t){return t&&t.__esModule?t:{default:t}}e.default={data:function(){return{}},mixins:[i.default],mounted:function(){this.isHardConfirm&&this.$refs.inputElem&&this.$refs.inputElem.focus()},components:{CancelBtn:o.default,OkBtn:r.default}}},function(t,e,n){"use strict";n.r(e);var i=n(9),r=n.n(i);for(var o in i)"default"!==o&&function(t){n.d(e,t,(function(){return i[t]}))}(o);e.default=r.a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){return t&&t.__esModule?t:{default:t}}(n(36)),r=n(1);e.default={data:function(){return{clicks_count:0}},props:{enabled:{required:!1,type:Boolean,default:!0},options:{required:!0,type:Object},focus:{required:!1,type:Boolean,default:!1},loading:{required:!1,type:Boolean,default:!1}},mounted:function(){this.focus&&this.$refs.btn.focus()},computed:{soft_confirm:function(){return this.options.type===r.CONFIRM_TYPES.SOFT},hard_confirm:function(){return this.options.type===r.CONFIRM_TYPES.HARD},is_disabled:function(){return this.$parent.okBtnDisabled},clicks_remaining:function(){return Math.max(this.options.clicksCount-this.clicks_count,0)}},methods:{proceed:function(){!this.is_disabled&&this.validateProceed()&&this.$emit("click")},validateProceed:function(){switch(this.options.type){case r.CONFIRM_TYPES.SOFT:return this.clicks_count++,this.clicks_count>=this.options.clicksCount;case r.CONFIRM_TYPES.BASIC:default:return!0}}},components:{BtnLoader:i.default}}},function(t,e,n){"use strict";n.r(e);var i=n(11),r=n.n(i);for(var o in i)"default"!==o&&function(t){n.d(e,t,(function(){return i[t]}))}(o);e.default=r.a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{enabled:{required:!1,type:Boolean,default:!0},options:{required:!0,type:Object},focus:{required:!1,type:Boolean,default:!1},loading:{required:!1,type:Boolean,default:!1}},mounted:function(){this.focus&&this.$refs.btn.focus()}}},function(t,e,n){},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),r=a(n(14)),o=a(n(15));function a(t){return t&&t.__esModule?t:{default:t}}e.default={data:function(){return{input:"",loading:!1}},props:{options:{type:Object,required:!0}},computed:{loaderEnabled:function(){return!!this.options.loader},isHardConfirm:function(){return this.options.window===i.DIALOG_TYPES.CONFIRM&&this.options.type===i.CONFIRM_TYPES.HARD},isPrompt:function(){return this.options.window===i.DIALOG_TYPES.PROMPT},leftBtnComponent:function(){return!1===this.options.reverse?"cancel-btn":"ok-btn"},rightBtnComponent:function(){return!0===this.options.reverse?"cancel-btn":"ok-btn"},hardConfirmHelpText:function(){var t=this;return this.options.verificationHelp.replace(/\[\+:(\w+)]/g,(function(e,n){return t.options[n]||e}))},promptHelpText:function(){var t=this;return this.options.promptHelp.replace(/\[\+:(\w+)]/g,(function(e,n){return t.options[n]||e}))}},mounted:function(){this.isHardConfirm&&this.$refs.inputElem&&this.$refs.inputElem.focus()},methods:{clickRightBtn:function(){this.options.reverse?this.cancel():this.proceed(this.getDefaultData())},clickLeftBtn:function(){this.options.reverse?this.proceed(this.getDefaultData()):this.cancel()},submitDialogForm:function(){this.okBtnDisabled||this.proceed()},getDefaultData:function(){return this.isPrompt?this.input:null},proceed:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.loaderEnabled?(this.switchLoadingState(!0),this.options.promiseResolver({close:this.close,loading:this.switchLoadingState,data:t})):(this.options.promiseResolver({data:t}),this.close())},cancel:function(){!0!==this.loading&&this.close()},switchLoadingState:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;null===t&&(t=!this.loading),this.loading=!!t},close:function(){this.$emit("close")}},mixins:[r.default,o.default]}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.default={computed:{messageHasTitle:function(){var t=this.options.message;return"object"===(void 0===t?"undefined":i(t))&&null!==t&&t.title},messageTitle:function(){return this.messageHasTitle?this.options.message.title:null},messageBody:function(){var t=this.options.message;return"string"==typeof t?t:t.body||""}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1);e.default={computed:{cancelBtnDisabled:function(){return this.options.window===i.DIALOG_TYPES.ALERT},okBtnDisabled:function(){return this.options.window===i.DIALOG_TYPES.CONFIRM&&this.options.type===i.CONFIRM_TYPES.HARD&&this.input!==this.options.verification},leftBtnEnabled:function(){return!1===this.cancelBtnDisabled||!0===this.options.reverse},rightBtnEnabled:function(){return!1===this.cancelBtnDisabled||!1===this.options.reverse},leftBtnFocus:function(){return!this.isHardConfirm&&!0===this.options.reverse},rightBtnFocus:function(){return!this.isHardConfirm&&!1===this.options.reverse},leftBtnText:function(){return this.options.reverse?this.options.okText:this.options.cancelText},rightBtnText:function(){return this.options.reverse?this.options.cancelText:this.options.okText}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getElem=function(t){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]?document.querySelectorAll(t):document.querySelector(t)},e.noop=function(){};var i=e.cloneObj=function(t){return Object.assign({},t)};e.mergeObjs=function(){for(var t=[],e=0;e<arguments.length;e++)t.push(arguments[e]);return Object.assign.apply(Object,function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(t.map(i)))},e.clickNode=function(t){if(document.createEvent){var e=document.createEvent("MouseEvents");e.initEvent("click",!0,!1),t.dispatchEvent(e)}else document.createEventObject?t.fireEvent("onclick"):"function"==typeof t.onclick&&t.onclick()},e.firstIndex=function(t,e,n){var i=void 0,r=t.length;for(i=0;i<r;i++)if(t[i][n]===e)return i;return-1}},function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",t._l(t.dialogsARR,(function(e){return n("dialog-window",{key:e.id,attrs:{options:e,escapeKeyClose:e.escapeKeyClose,registeredViews:t.registeredViews},on:{close:t.destroyDialog}})})))},r=[];n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return r}))},function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:t.options.customClass},[n("transition",{attrs:{name:"dg-backdrop",appear:""},on:{"after-leave":function(e){t.animationEnded("backdrop")}}},[t.show?n("div",{staticClass:"dg-backdrop"}):t._e()]),t._v(" "),n("transition",{attrs:{name:t.animation,appear:""},on:{"after-leave":function(e){t.animationEnded("content")}}},[t.show?n("div",{class:["dg-container",{"dg-container--has-input":t.isHardConfirm||t.isPrompt}],on:{click:t.closeAtOutsideClick}},[n("div",{staticClass:"dg-content-cont dg-content-cont--floating"},[n("div",{staticClass:"dg-main-content",on:{click:function(t){t.stopPropagation()}}},[n(t.dialogView,{tag:"component",attrs:{options:t.options},on:{close:t.close}})],1)])]):t._e()])],1)},r=[];n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return r}))},function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"dg-view-wrapper"},[n("div",{class:["dg-content-body",{"dg-content-body--has-title":t.messageHasTitle}]},[t.messageHasTitle?[t.options.html?n("h6",{staticClass:"dg-title",domProps:{innerHTML:t._s(t.messageTitle)}}):n("h6",{staticClass:"dg-title"},[t._v(t._s(t.messageTitle))])]:t._e(),t._v(" "),t.options.html?n("div",{staticClass:"dg-content",domProps:{innerHTML:t._s(t.messageBody)}}):n("div",{staticClass:"dg-content"},[t._v(t._s(t.messageBody))]),t._v(" "),t.isHardConfirm||t.isPrompt?n("form",{staticClass:"dg-form",attrs:{autocomplete:"off"},on:{submit:function(e){return e.preventDefault(),t.submitDialogForm(e)}}},[n("label",{staticStyle:{"font-size":"13px"},attrs:{for:"dg-input-elem"}},[t._v(t._s(t.isPrompt?t.promptHelpText:t.hardConfirmHelpText))]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.input,expression:"input"}],ref:"inputElem",staticStyle:{width:"100%","margin-top":"10px",padding:"5px 15px","font-size":"16px","border-radius":"4px",border:"2px solid #eee"},attrs:{type:"text",placeholder:t.isPrompt?"":t.options.verification,autocomplete:"off",id:"dg-input-elem"},domProps:{value:t.input},on:{input:function(e){e.target.composing||(t.input=e.target.value)}}})]):t._e()],2),t._v(" "),n("div",{staticClass:"dg-content-footer"},[n(t.leftBtnComponent,{tag:"button",attrs:{loading:t.loading,enabled:t.leftBtnEnabled,options:t.options,focus:t.leftBtnFocus},on:{click:function(e){t.clickLeftBtn()}}},[t.options.html?n("span",{domProps:{innerHTML:t._s(t.leftBtnText)}}):n("span",[t._v(t._s(t.leftBtnText))])]),t._v(" "),n(t.rightBtnComponent,{tag:"button",attrs:{loading:t.loading,enabled:t.rightBtnEnabled,options:t.options,focus:t.rightBtnFocus},on:{click:function(e){t.clickRightBtn()}}},[t.options.html?n("span",{domProps:{innerHTML:t._s(t.rightBtnText)}}):n("span",[t._v(t._s(t.rightBtnText))])]),t._v(" "),n("div",{staticClass:"dg-clear"})])])},r=[];n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return r}))},function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.enabled?n("button",{ref:"btn",class:["dg-btn","dg-btn--ok",{"dg-btn--loading":t.loading},{"dg-pull-right":!t.options.reverse}],attrs:{disabled:t.is_disabled},on:{click:function(e){e.preventDefault(),t.proceed()}}},[n("span",{staticClass:"dg-btn-content"},[t._t("default"),t._v(" "),t.soft_confirm?n("span",[t._v("("+t._s(t.clicks_remaining)+")")]):t._e()],2),t._v(" "),t.loading?n("btn-loader",{tag:"span"}):t._e()]):t._e()},r=[];n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return r}))},function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.enabled?n("button",{ref:"btn",class:["dg-btn","dg-btn--cancel",{"dg-pull-right":t.options.reverse}],on:{click:function(e){e.preventDefault(),t.$emit("click")}}},[t._t("default")],2):t._e()},r=[];n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return r}))},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=c(n(24)),r=c(n(28)),o=n(1),a=c(n(35)),s=n(16);function c(t){return t&&t.__esModule?t:{default:t}}var u={},l=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.Vue=t,this.mounted=!1,this.$root={},this.registeredViews={},this.globalOptions=(0,s.mergeObjs)(o.DEFAULT_OPTIONS,e)};l.prototype.mountIfNotMounted=function(){var t=this;!0!==this.mounted&&(this.$root=function(){var e=t.Vue.extend(r.default),n=document.createElement("div");document.querySelector("body").appendChild(n);var i=new e;return i.registeredViews=t.registeredComponents(),i.$mount(n)}(),this.mounted=!0)},l.prototype.registeredComponents=function(){return u},l.prototype.registerComponent=function(t,e){this.mounted&&this.destroy(),u[t]=e},l.prototype.destroy=function(){if(!0===this.mounted){this.$root.forceCloseAll();var t=this.$root.$el;this.$root.$destroy(),this.$root.$off(),t.remove(),this.mounted=!1}},l.prototype.alert=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t&&(e.message=t),this.open(o.DIALOG_TYPES.ALERT,e)},l.prototype.prompt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t&&(e.message=t),this.open(o.DIALOG_TYPES.PROMPT,e)},l.prototype.confirm=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t&&(e.message=t),this.open(o.DIALOG_TYPES.CONFIRM,e)},l.prototype.open=function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.mountIfNotMounted(),new i.default((function(i,r){n.id="dialog."+Date.now(),n.window=t,n.promiseResolver=i,n.promiseRejecter=r,e.$root.commit((0,s.mergeObjs)(e.globalOptions,n))}))},l.install=function(t,e){var n=new a.default(t);t.directive("confirm",n.confirmDefinition),t.dialog=new l(t,e),Object.defineProperties(t.prototype,{$dialog:{get:function(){return t.dialog}}})},e.default=l},function(t,e,n){(function(e){!function(n){var i=setTimeout;function r(){}function o(t){if(!(this instanceof o))throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],l(t,this)}function a(t,e){for(;3===t._state;)t=t._value;0!==t._state?(t._handled=!0,o._immediateFn((function(){var n=1===t._state?e.onFulfilled:e.onRejected;if(null!==n){var i;try{i=n(t._value)}catch(t){return void c(e.promise,t)}s(e.promise,i)}else(1===t._state?s:c)(e.promise,t._value)}))):t._deferreds.push(e)}function s(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if(e instanceof o)return t._state=3,t._value=e,void u(t);if("function"==typeof n)return void l(function(t,e){return function(){t.apply(e,arguments)}}(n,e),t)}t._state=1,t._value=e,u(t)}catch(e){c(t,e)}}function c(t,e){t._state=2,t._value=e,u(t)}function u(t){2===t._state&&0===t._deferreds.length&&o._immediateFn((function(){t._handled||o._unhandledRejectionFn(t._value)}));for(var e=0,n=t._deferreds.length;e<n;e++)a(t,t._deferreds[e]);t._deferreds=null}function l(t,e){var n=!1;try{t((function(t){n||(n=!0,s(e,t))}),(function(t){n||(n=!0,c(e,t))}))}catch(t){if(n)return;n=!0,c(e,t)}}o.prototype.catch=function(t){return this.then(null,t)},o.prototype.then=function(t,e){var n=new this.constructor(r);return a(this,new function(t,e,n){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=n}(t,e,n)),n},o.all=function(t){return new o((function(e,n){if(!t||void 0===t.length)throw new TypeError("Promise.all accepts an array");var i=Array.prototype.slice.call(t);if(0===i.length)return e([]);var r=i.length;function o(t,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var s=a.then;if("function"==typeof s)return void s.call(a,(function(e){o(t,e)}),n)}i[t]=a,0==--r&&e(i)}catch(t){n(t)}}for(var a=0;a<i.length;a++)o(a,i[a])}))},o.resolve=function(t){return t&&"object"==typeof t&&t.constructor===o?t:new o((function(e){e(t)}))},o.reject=function(t){return new o((function(e,n){n(t)}))},o.race=function(t){return new o((function(e,n){for(var i=0,r=t.length;i<r;i++)t[i].then(e,n)}))},o._immediateFn="function"==typeof e&&function(t){e(t)}||function(t){i(t,0)},o._unhandledRejectionFn=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)},o._setImmediateFn=function(t){o._immediateFn=t},o._setUnhandledRejectionFn=function(t){o._unhandledRejectionFn=t},void 0!==t&&t.exports?t.exports=o:n.Promise||(n.Promise=o)}(this)}).call(this,n(25).setImmediate)},function(t,e,n){(function(t){var i=void 0!==t&&t||"undefined"!=typeof self&&self||window,r=Function.prototype.apply;function o(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new o(r.call(setTimeout,i,arguments),clearTimeout)},e.setInterval=function(){return new o(r.call(setInterval,i,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(i,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout((function(){t._onTimeout&&t._onTimeout()}),e))},n(26),e.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(this,n(22))},function(t,e,n){(function(t,e){!function(t,n){"use strict";if(!t.setImmediate){var i,r=1,o={},a=!1,s=t.document,c=Object.getPrototypeOf&&Object.getPrototypeOf(t);c=c&&c.setTimeout?c:t,"[object process]"==={}.toString.call(t.process)?i=function(t){e.nextTick((function(){l(t)}))}:function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?function(){var e="setImmediate$"+Math.random()+"$",n=function(n){n.source===t&&"string"==typeof n.data&&0===n.data.indexOf(e)&&l(+n.data.slice(e.length))};t.addEventListener?t.addEventListener("message",n,!1):t.attachEvent("onmessage",n),i=function(n){t.postMessage(e+n,"*")}}():t.MessageChannel?function(){var t=new MessageChannel;t.port1.onmessage=function(t){l(t.data)},i=function(e){t.port2.postMessage(e)}}():s&&"onreadystatechange"in s.createElement("script")?function(){var t=s.documentElement;i=function(e){var n=s.createElement("script");n.onreadystatechange=function(){l(e),n.onreadystatechange=null,t.removeChild(n),n=null},t.appendChild(n)}}():i=function(t){setTimeout(l,0,t)},c.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var a={callback:t,args:e};return o[r]=a,i(r),r++},c.clearImmediate=u}function u(t){delete o[t]}function l(t){if(a)setTimeout(l,0,t);else{var e=o[t];if(e){a=!0;try{!function(t){var e=t.callback,i=t.args;switch(i.length){case 0:e();break;case 1:e(i[0]);break;case 2:e(i[0],i[1]);break;case 3:e(i[0],i[1],i[2]);break;default:e.apply(n,i)}}(e)}finally{u(t),a=!1}}}}}("undefined"==typeof self?void 0===t?this:t:self)}).call(this,n(22),n(27))},function(t,e){var n,i,r=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(t){n=o}try{i="function"==typeof clearTimeout?clearTimeout:a}catch(t){i=a}}();var c,u=[],l=!1,f=-1;function h(){l&&c&&(l=!1,c.length?u=c.concat(u):f=-1,u.length&&d())}function d(){if(!l){var t=s(h);l=!0;for(var e=u.length;e;){for(c=u,u=[];++f<e;)c&&c[f].run();f=-1,e=u.length}c=null,l=!1,function(t){if(i===clearTimeout)return clearTimeout(t);if((i===a||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(t);try{i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function m(){}r.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];u.push(new p(t,e)),1!==u.length||l||s(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=m,r.addListener=m,r.once=m,r.off=m,r.removeListener=m,r.removeAllListeners=m,r.emit=m,r.prependListener=m,r.prependOnceListener=m,r.listeners=function(t){return[]},r.binding=function(t){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(t){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},function(t,e,n){"use strict";n.r(e);var i=n(17),r=n(2);for(var o in r)"default"!==o&&function(t){n.d(e,t,(function(){return r[t]}))}(o);n(33);var a=n(0),s=Object(a.a)(r.default,i.a,i.b,!1,null,null,null);e.default=s.exports},function(t,e,n){"use strict";n.r(e);var i=n(18),r=n(4);for(var o in r)"default"!==o&&function(t){n.d(e,t,(function(){return r[t]}))}(o);var a=n(0),s=Object(a.a)(r.default,i.a,i.b,!1,null,null,null);e.default=s.exports},function(t,e,n){"use strict";n.r(e);var i=n(19),r=n(6);for(var o in r)"default"!==o&&function(t){n.d(e,t,(function(){return r[t]}))}(o);var a=n(0),s=Object(a.a)(r.default,i.a,i.b,!1,null,null,null);e.default=s.exports},function(t,e,n){"use strict";n.r(e);var i=n(20),r=n(8);for(var o in r)"default"!==o&&function(t){n.d(e,t,(function(){return r[t]}))}(o);var a=n(0),s=Object(a.a)(r.default,i.a,i.b,!1,null,null,null);e.default=s.exports},function(t,e,n){"use strict";n.r(e);var i=n(21),r=n(10);for(var o in r)"default"!==o&&function(t){n.d(e,t,(function(){return r[t]}))}(o);var a=n(0),s=Object(a.a)(r.default,i.a,i.b,!1,null,null,null);e.default=s.exports},function(t,e,n){"use strict";var i=n(12);n.n(i).a},,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=n(16),a=n(1),s=function(t){Object.defineProperties(this,{Vue:{get:function(){return t}},confirmDefinition:{get:this.defineConfirm}})};s.prototype.getConfirmMessage=function(t){return t.value&&t.value.message?t.value.message:"string"==typeof t.value?t.value:null},s.prototype.getOptions=function(t){var e="object"===r(t.value)?(0,o.cloneObj)(t.value):{};return delete e.ok,delete e.cancel,t.arg&&a.CONFIRM_TYPES.hasOwnProperty(t.arg.toUpperCase())&&(e.type=a.CONFIRM_TYPES[t.arg.toUpperCase()]),e},s.prototype.getThenCallback=function(t,e){return t.value&&t.value.ok?function(n){return t.value.ok(i({},n,{node:e}))}:function(t){t.loading&&t.close(),e.removeEventListener("click",e.VuejsDialog.clickHandler,!0),(0,o.clickNode)(e),e.addEventListener("click",e.VuejsDialog.clickHandler,!0)}},s.prototype.getCatchCallback=function(t){return t.value&&t.value.cancel?t.value.cancel:o.noop},s.prototype.clickHandler=function(t,e,n){t.preventDefault(),t.stopImmediatePropagation();var i=this.getOptions(n),r=this.getConfirmMessage(n),o=this.getThenCallback(n,e),a=this.getCatchCallback(n);this.Vue.dialog.confirm(r,i).then(o).catch(a)},s.prototype.defineConfirm=function(){var t=this,e={bind:function(e,n){e.VuejsDialog=e.VuejsDialog||{},e.VuejsDialog.clickHandler=function(i){return t.clickHandler(i,e,n)},e.addEventListener("click",e.VuejsDialog.clickHandler,!0)},unbind:function(t){t.removeEventListener("click",t.VuejsDialog.clickHandler,!0)}};return e},e.default=s},function(t,e,n){"use strict";n.r(e);var i=n(0),r=Object(i.a)({},(function(){return this.$createElement,this._self._c,this._m(0)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"dg-btn-loader"},[e("span",{staticClass:"dg-circles"},[e("span",{staticClass:"dg-circle"}),this._v(" "),e("span",{staticClass:"dg-circle"}),this._v(" "),e("span",{staticClass:"dg-circle"})])])}],!1,null,null,null);e.default=r.exports}])}))},"23a9":function(t,e,n){},2518:function(t,e,n){"use strict";var i=n("23a9"),r=n.n(i);r.a},"3ab1":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ShogiBoard")},r=[],o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"shogiboard"},[n("div",{staticClass:"player"},[n("p",[t._v(t._s(t.player?"☖後手":"☗先手"))]),n("div",{staticClass:"capture"},t._l(t.player?t.capture.white:t.capture.black,(function(e,i){return n("div",{key:i,on:{click:function(e){return t.pickPiece({mX:-1,mY:-1,mPiece:i},!0)}}},[0!=e?[n("p",{class:{isSelect:t.moves.prev.mPiece==i&&-1==t.moves.prev.mX}},[t._v(t._s(t.pieces[i.toUpperCase()])+t._s(e))])]:t._e()],2)})),0)]),n("div",{staticClass:"board"},t._l(t.board,(function(e,i){return n("div",{key:i,staticClass:"container"},t._l(e,(function(e,r){return n("div",{key:r,staticClass:"edge",class:{isSelect:i==t.moves.prev.mX&&r==t.moves.prev.mY,empty:e.match(/[-]/),lastmove:t.player?9-t.lastmove.mX==r&&t.lastmove.mY-1==i:t.lastmove.mX-1==r&&9-t.lastmove.mY==i}},[n("p",{class:{blackP:e.match(/[A-Z]/)&&t.player||e.match(/[a-z]/)&&!t.player,whiteP:e.match(/[A-Z]/)&&!t.player||e.match(/[a-z]/)&&t.player},on:{click:function(n){return t.pickPiece({mX:i,mY:r,mPiece:e},!1)}}},[t._v(t._s(e.match(/[A-z]/)?t.pieces[e.toUpperCase()]:"-"))])])})),0)})),0),n("div",{staticClass:"player"},[n("p",[t._v(t._s(t.player?"☗先手":"☖後手"))]),n("div",{staticClass:"capture"},t._l(t.player?t.capture.black:t.capture.white,(function(e,i){return n("div",{key:i,on:{click:function(e){return t.pickPiece({mX:-1,mY:-1,mPiece:i},!0)}}},[0!=e?[n("p",{class:{isSelect:t.moves.prev.mPiece==i&&-1==t.moves.prev.mX}},[t._v(t._s(t.pieces[i.toUpperCase()])+t._s(e))])]:t._e()],2)})),0)]),n("div",{staticClass:"information"},[t.moves.turn>=1&&null!=t.lastmove.mX?n("p",[t._v(t._s(t.moves.turn)+"手目"+t._s(String.fromCharCode(t.lastmove.mX.charCodeAt(0)+65248))+t._s(t.number[t.lastmove.mY])+t._s(t.player?t.pieces[t.board[t.lastmove.mY-1][9-t.lastmove.mX].toUpperCase()]:t.pieces[t.board[9-t.lastmove.mY][t.lastmove.mX-1].toUpperCase()])+"まで")]):t._e()]),n("div",{staticClass:"control"},[n("ul",{staticClass:"center-block"},[n("li",[n("v-icon",{attrs:{size:"6.0vw",color:"#67c5ff"},on:{click:function(e){return t.popPosition(1)}}},[t._v("mdi-skip-backward-outline")])],1),n("li",[n("v-icon",{attrs:{size:"6.0vw",color:"#67c5ff"},on:{click:function(e){return t.popPosition(-1)}}},[t._v("mdi-menu-left-outline")])],1),n("li",[n("v-icon",{attrs:{size:"6.0vw",color:"#67c5ff"},on:{click:function(e){return t.rotation()}}},[t._v("mdi-refresh")])],1)])])])},a=[];n("4de4"),n("4160"),n("a630"),n("fb6a"),n("a434"),n("b0c0"),n("a9e3"),n("b64b"),n("d3b7"),n("ac1f"),n("25f0"),n("3ca3"),n("466d"),n("5319"),n("1276"),n("159b"),n("96cf");function s(t,e,n,i,r,o,a){try{var s=t[o](a),c=s.value}catch(u){return void n(u)}s.done?e(c):Promise.resolve(c).then(i,r)}function c(t){return function(){var e=this,n=arguments;return new Promise((function(i,r){var o=t.apply(e,n);function a(t){s(o,i,r,a,c,"next",t)}function c(t){s(o,i,r,a,c,"throw",t)}a(void 0)}))}}var u=n("2b0e"),l=n("03a5"),f=n.n(l),h=(n("c5c5"),n("4ee7"));u["a"].use(f.a);var d={name:"ShogiBoard",data:function(){return{name:location.href.match(/([^/.]+)/g).slice(-1)[0],document:[],position:[],player:!0,lastmove:{mX:Number,mY:Number},board:[[],[],[],[],[],[],[],[],[]],capture:{black:{L:0,N:0,S:0,G:0,B:0,R:0,P:0},white:{l:0,n:0,s:0,g:0,b:0,r:0,p:0}},pieces:{L:"香",N:"桂",S:"銀",G:"金",K:"玉",B:"角",R:"飛",P:"歩","+L":"杏","+N":"圭","+S":"全","+B":"馬","+R":"龍","+P":"と"},rank:{1:"a",2:"b",3:"c",4:"d",5:"e",6:"f",7:"g",8:"h",9:"i"},number:{1:"一",2:"二",3:"三",4:"四",5:"五",6:"六",7:"七",8:"八",9:"九"},moves:{turn:0,isPicked:!1,usi:[],prev:{mX:null,mY:null,mPiece:null,isCaptured:!1},next:{mX:null,mY:null,mPiece:null,isPromoted:!1}}}},computed:{},mounted:function(){},watch:{document:{immediate:!1,handler:function(){var t=this;this.position=this.document["position"],this.moves.usi=this.document["moves"],1!=this.moves.usi.length?(this.lastmove.mX=this.moves.usi.slice(-1)[0].substr(2,1),this.lastmove.mY=Object.keys(this.rank).filter((function(e){return t.rank[e]===t.moves.usi.slice(-1)[0].substr(3,1)}))[0]):this.lastmove.mX=this.lastmove.mY=null;var e=this.position.slice(-1)[0],n=e.split(/[/\s]/);this.moves.turn=parseInt(n.slice(11,12).toString()),this.capture={black:{L:0,N:0,S:0,G:0,B:0,R:0,P:0},white:{l:0,n:0,s:0,g:0,b:0,r:0,p:0}};var i=n.slice(10,11).toString().match(/[1-9]*[A-z]/g);null!=i&&Array.prototype.forEach.call(i,(function(t){var e=t.match(/[A-z]/).toString(),n=null==t.match(/[1-9]/)?1:parseInt(t.match(/[1-9]/).toString());e.match(/[a-z]/)&&(this.white[e]=n),e.match(/[A-Z]/)&&(this.black[e]=n)}),this.capture);var r=[[],[],[],[],[],[],[],[],[]];n.slice(0,9).forEach((function(t,e){Array.from(t).forEach((function(n,i){if(n.match(/[1-9]/))for(var o=0;o<n;o++)r[e].push("-");n.match(/[A-z]/)&&(t.substr(i-1,1).match(/[+]/)?r[e].push("+"+n):r[e].push(n))}),this)}),r),this.player||r.reverse().forEach((function(t){t.reverse()})),this.board=r}}},methods:{rotation:function(){var t=this.board;t.reverse().forEach((function(t){t.reverse()})),this.player=!this.player},buildSfen:function(){var t=JSON.parse(JSON.stringify(this.board));this.player||t.reverse().forEach((function(t){t.reverse()}));var e=t.toString().replace(/[,]/g,""),n="";Array.prototype.forEach.call(e,(function(t){n+=t,n.replace(/[+/]/g).length%9||"+"!=t&&(n+="/")})),n=n.replace(/---------/g,"9").replace(/--------/g,"8").replace(/-------/g,"7").replace(/------/g,"6").replace(/-----/g,"5").replace(/----/g,"4").replace(/---/g,"3").replace(/--/g,"2").replace(/-/g,"1"),n+=this.moves.turn%2?"w ":"b ";var i=JSON.parse(JSON.stringify(this.capture)),r="";return Object.keys(i).forEach((function(t){Object.keys(this[t]).forEach((function(t){0!=this[t]&&(r+=(1==this[t]?"":this[t])+t)}),this[t])}),i),n+=(""===r?"- ":r+" ")+this.moves.turn.toString(),n},popPosition:function(t){0!=this.moves.turn&&(-1==t&&(this.moves.turn-=1),1==t&&(this.moves.turn=0),this.position=this.position.slice(0,t),this.moves.usi=this.moves.usi.slice(0,t),h["a"].collection("KIF").doc(this.name).update({moves:this.moves.usi,position:this.position}))},showDialog:function(){var t=this;return c(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$dialog.confirm({title:"将棋にゃも v0.0.1",body:"成りますか？"},{okText:"不成",cancelText:"成"}).then((function(){return!1})).catch((function(){return!0}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))()},isPromoted:function(t,e,n){return null==n.match(/[+GKgk]/)&&(n.match(/[A-Z]/)&&this.player?(t<=2||e<=2)&&this.showDialog():n.match(/[A-Z]/)&&!this.player||n.match(/[a-z]/)&&this.player?(t>=6||e>=6)&&this.showDialog():n.match(/[a-z]/)&&!this.player?(t<=2||e<=2)&&this.showDialog():void 0)},selectPiece:function(t,e){"-"!=t.mPiece&&(this.moves.turn%2==0&&null==t.mPiece.match(/[A-Z]/)||this.moves.turn%2==1&&null==t.mPiece.match(/[a-z]/)||(this.moves.isPicked=!0,this.moves.prev.mX=t.mX,this.moves.prev.mY=t.mY,this.moves.prev.mPiece=t.mPiece,this.moves.prev.isCaptured=e))},movePiece:function(t,e){var n=this;return c(regeneratorRuntime.mark((function i(){var r,o;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(r=n.board,o="","-"!=e.mPiece&&(e.mPiece.match(/[a-z]/)?n.capture.black[e.mPiece.toUpperCase().replace("+","")]+=1:n.capture.white[e.mPiece.toLowerCase().replace("+","")]+=1),t.isCaptured){i.next=14;break}return o=n.player?9-t.mY+n.rank[t.mX+1]+(9-e.mY)+n.rank[e.mX+1]:1+t.mY+n.rank[9-t.mX]+(1+e.mY)+n.rank[9-e.mX],r[t.mX].splice(t.mY,1,"-"),i.next=8,n.isPromoted(t.mX,e.mX,t.mPiece);case 8:if(!i.sent){i.next=13;break}o+="+",r[e.mX].splice(e.mY,1,"+"+t.mPiece),i.next=14;break;case 13:r[e.mX].splice(e.mY,1,t.mPiece);case 14:t.isCaptured&&(o=n.player?t.mPiece.toUpperCase()+"*"+(9-e.mY)+n.rank[e.mX+1]:t.mPiece.toUpperCase()+"*"+(1+e.mY)+n.rank[9-e.mX],t.mPiece.match(/[A-Z]/)?n.capture.black[t.mPiece.replace("+","")]-=1:n.capture.white[t.mPiece.replace("+","")]-=1,r[e.mX].splice(e.mY,1,t.mPiece)),n.moves.turn+=1,n.moves.prev.mX=null,n.moves.prev.mY=null,n.moves.isPicked=!1,n.position.push(n.buildSfen(r)),n.moves.usi.push(o),h["a"].collection("KIF").doc(n.name).update({moves:n.moves.usi,position:n.position});case 22:case"end":return i.stop()}}),i)})))()},pickPiece:function(t,e){if(this.moves.isPicked){var n=this.moves.prev;return this.isMovable(n,t)?void this.movePiece(n,t):void 0}this.moves.isPicked||this.selectPiece(t,e)},checkBitBoard:function(t,e){var n=this.board,i=t.mX,r=t.mY,o=e.mX,a=e.mY,s=t.mPiece;if(s.match(/[A-Z]/)&&this.player||s.match(/[a-z]/)&&!this.player){switch(s.toUpperCase()){case"L":if(0==Math.abs(a-r)&&o<i){for(var c=Math.min(o,i)+1;c<Math.max(o,i);c++)if("-"!=n[c][a])return!1;return!0}break;case"N":if(1==Math.abs(a-r)&&o-i==-2)return!0;break;case"S":if(Math.abs(o-i)<=1&&Math.abs(a-r)<=1)return(0!=Math.abs(a-r)||o-i!=1)&&(1!=Math.abs(a-r)||0!=Math.abs(o-i));break;case"G":if(Math.abs(o-i)<=1&&Math.abs(a-r)<=1)return 1!=Math.abs(a-r)||o-i!=1;break;case"K":if(Math.abs(o-i)<=1&&Math.abs(a-r)<=1)return!0;break;case"B":if(Math.abs(o-i)==Math.abs(a-r)){if(Math.min(o,i)==o&&Math.min(a,r)==r||Math.min(o,i)==i&&Math.min(a,r)==a){for(var u=Math.min(o,i)+1;u<Math.max(o,i);u++)if("-"!=n[u][o+a-u])return!1}else for(var l=1;l<Math.abs(o-i);l++)if("-"!=n[Math.min(o,i)+l][Math.min(a,r)+l])return!1;return!0}break;case"R":if(0==Math.abs(a-r)){for(var f=Math.min(o,i)+1;f<Math.max(o,i);f++)if("-"!=n[f][a])return!1;return!0}if(0==Math.abs(o-i)){for(var h=Math.min(a,r)+1;h<Math.max(a,r);h++)if("-"!=n[o][h])return!1;return!0}break;case"P":if(i==o+1&&a==r)return!0;break;case"+B":if(Math.abs(o-i)<=1&&Math.abs(a-r)<=1)return!0;if(Math.abs(o-i)==Math.abs(a-r)){if(Math.min(o,i)==o&&Math.min(a,r)==r||Math.min(o,i)==i&&Math.min(a,r)==a){for(var d=Math.min(o,i)+1;d<Math.max(o,i);d++)if("-"!=n[d][o+a-d])return!1}else for(var p=1;p<Math.abs(o-i);p++)if("-"!=n[Math.min(o,i)+p][Math.min(a,r)+p])return!1;return!0}break;case"+R":if(Math.abs(o-i)<=1&&Math.abs(a-r)<=1)return!0;if(0==Math.abs(a-r)){for(var m=Math.min(o,i)+1;m<Math.max(o,i);m++)if("-"!=n[m][a])return!1;return!0}if(0==Math.abs(o-i)){for(var v=Math.min(a,r)+1;v<Math.max(a,r);v++)if("-"!=n[o][v])return!1;return!0}break;default:if(Math.abs(o-i)<=1&&Math.abs(a-r)<=1)return 1!=Math.abs(a-r)||o-i!=1;break}return!1}if(s.match(/[a-z]/)&&this.player||s.match(/[A-Z]/)&&!this.player){switch(s.toUpperCase()){case"L":if(0==Math.abs(a-r)&&o>i){for(var g=Math.min(o,i)+1;g<Math.max(o,i);g++)if("-"!=n[g][a])return!1;return!0}break;case"N":if(1==Math.abs(a-r)&&o-i==2)return!0;break;case"S":if(Math.abs(o-i)<=1&&Math.abs(a-r)<=1)return(0!=Math.abs(a-r)||o-i!=-1)&&(1!=Math.abs(a-r)||0!=Math.abs(o-i));break;case"G":if(Math.abs(o-i)<=1&&Math.abs(a-r)<=1)return 1!=Math.abs(a-r)||o-i!=-1;break;case"K":if(Math.abs(o-i)<=1&&Math.abs(a-r)<=1)return!0;break;case"B":if(Math.abs(o-i)==Math.abs(a-r)){if(Math.min(o,i)==o&&Math.min(a,r)==r||Math.min(o,i)==i&&Math.min(a,r)==a){for(var b=Math.min(o,i)+1;b<Math.max(o,i);b++)if("-"!=n[b][o+a-b])return!1}else for(var y=1;y<Math.abs(o-i);y++)if("-"!=n[Math.min(o,i)+y][Math.min(a,r)+y])return!1;return!0}break;case"R":if(0==Math.abs(a-r)){for(var _=Math.min(o,i)+1;_<Math.max(o,i);_++)if("-"!=n[_][a])return!1;return!0}if(0==Math.abs(o-i)){for(var w=Math.min(a,r)+1;w<Math.max(a,r);w++)if("-"!=n[o][w])return!1;return!0}break;case"P":if(i==o-1&&a==r)return!0;break;case"+B":if(Math.abs(o-i)<=1&&Math.abs(a-r)<=1)return!0;if(Math.abs(o-i)==Math.abs(a-r)){if(Math.min(o,i)==o&&Math.min(a,r)==r||Math.min(o,i)==i&&Math.min(a,r)==a){for(var k=Math.min(o,i)+1;k<Math.max(o,i);k++)if("-"!=n[k][o+a-k])return!1}else for(var M=1;M<Math.abs(o-i);M++)if("-"!=n[Math.min(o,i)+M][Math.min(a,r)+M])return!1;return!0}break;case"+R":if(Math.abs(o-i)<=1&&Math.abs(a-r)<=1)return!0;if(0==Math.abs(a-r)){for(var O=Math.min(o,i)+1;O<Math.max(o,i);O++)if("-"!=n[O][a])return!1;return!0}if(0==Math.abs(o-i)){for(var C=Math.min(a,r)+1;C<Math.max(a,r);C++)if("-"!=n[o][C])return!1;return!0}break;default:if(Math.abs(o-i)<=1&&Math.abs(a-r)<=1)return 1!=Math.abs(a-r)||o-i!=-1;break}return!1}},isMovable:function(t,e){var n=this.board;return t.mX==e.mX&&t.mY==e.mY?(this.moves.prev.mX=null,this.moves.prev.mY=null,this.moves.isPicked=!1,!1):t.isCaptured?"-"==n[e.mX][e.mY]:!!this.checkBitBoard(t,e)&&("-"==n[e.mX][e.mY]||(this.moves.turn%2?null!=n[e.mX][e.mY].match(/[A-Z]/):null!=n[e.mX][e.mY].match(/[a-z]/)))}},firestore:function(){return{document:h["a"].collection("KIF").doc(this.name)}}},p=d,m=(n("2518"),n("2877")),v=n("6544"),g=n.n(v),b=(n("7db0"),n("caad"),n("c975"),n("45fc"),n("2532"),n("498a"),n("c96a"),n("5530"));n("4804");function y(t){return function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(e,i)||this.$delete(this.$data[t],i);for(var r in e)this.$set(this.$data[t],r,e[r])}}var _=u["a"].extend({data:function(){return{attrs$:{},listeners$:{}}},created:function(){this.$watch("$attrs",y("attrs$"),{immediate:!0}),this.$watch("$listeners",y("listeners$"),{immediate:!0})}}),w=n("3835"),k=n("ade3"),M=n("d9bd"),O=n("7bc6"),C=u["a"].extend({name:"colorable",props:{color:String},methods:{setBackgroundColor:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"string"===typeof e.style?(Object(M["a"])("style must be an object",this),e):"string"===typeof e.class?(Object(M["a"])("class must be an object",this),e):(Object(O["d"])(t)?e.style=Object(b["a"])(Object(b["a"])({},e.style),{},{"background-color":"".concat(t),"border-color":"".concat(t)}):t&&(e.class=Object(b["a"])(Object(b["a"])({},e.class),{},Object(k["a"])({},t,!0))),e)},setTextColor:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("string"===typeof e.style)return Object(M["a"])("style must be an object",this),e;if("string"===typeof e.class)return Object(M["a"])("class must be an object",this),e;if(Object(O["d"])(t))e.style=Object(b["a"])(Object(b["a"])({},e.style),{},{color:"".concat(t),"caret-color":"".concat(t)});else if(t){var n=t.toString().trim().split(" ",2),i=Object(w["a"])(n,2),r=i[0],o=i[1];e.class=Object(b["a"])(Object(b["a"])({},e.class),{},Object(k["a"])({},r+"--text",!0)),o&&(e.class["text--"+o]=!0)}return e}}}),x=u["a"].extend({name:"sizeable",props:{large:Boolean,small:Boolean,xLarge:Boolean,xSmall:Boolean},computed:{medium:function(){return Boolean(!this.xSmall&&!this.small&&!this.large&&!this.xLarge)},sizeableClasses:function(){return{"v-size--x-small":this.xSmall,"v-size--small":this.small,"v-size--default":this.medium,"v-size--large":this.large,"v-size--x-large":this.xLarge}}}});var P,T=u["a"].extend().extend({name:"themeable",provide:function(){return{theme:this.themeableProvide}},inject:{theme:{default:{isDark:!1}}},props:{dark:{type:Boolean,default:null},light:{type:Boolean,default:null}},data:function(){return{themeableProvide:{isDark:!1}}},computed:{appIsDark:function(){return this.$vuetify.theme.dark||!1},isDark:function(){return!0===this.dark||!0!==this.light&&this.theme.isDark},themeClasses:function(){return{"theme--dark":this.isDark,"theme--light":!this.isDark}},rootIsDark:function(){return!0===this.dark||!0!==this.light&&this.appIsDark},rootThemeClasses:function(){return{"theme--dark":this.rootIsDark,"theme--light":!this.rootIsDark}}},watch:{isDark:{handler:function(t,e){t!==e&&(this.themeableProvide.isDark=this.isDark)},immediate:!0}}}),E=T,S=n("80d2");function j(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return u["a"].extend({mixins:e})}function L(t){return["fas","far","fal","fab","fad"].some((function(e){return t.includes(e)}))}function I(t){return/^[mzlhvcsqta]\s*[-+.0-9][^mlhvzcsqta]+/i.test(t)&&/[\dz]$/i.test(t)&&t.length>4}(function(t){t["xSmall"]="12px",t["small"]="16px",t["default"]="24px",t["medium"]="28px",t["large"]="36px",t["xLarge"]="40px"})(P||(P={}));var A=j(_,C,x,E).extend({name:"v-icon",props:{dense:Boolean,disabled:Boolean,left:Boolean,right:Boolean,size:[Number,String],tag:{type:String,required:!1,default:"i"}},computed:{medium:function(){return!1},hasClickListener:function(){return Boolean(this.listeners$.click||this.listeners$["!click"])}},methods:{getIcon:function(){var t="";return this.$slots.default&&(t=this.$slots.default[0].text.trim()),Object(S["j"])(this,t)},getSize:function(){var t={xSmall:this.xSmall,small:this.small,medium:this.medium,large:this.large,xLarge:this.xLarge},e=Object(S["g"])(t).find((function(e){return t[e]}));return e&&P[e]||Object(S["d"])(this.size)},getDefaultData:function(){var t={staticClass:"v-icon notranslate",class:{"v-icon--disabled":this.disabled,"v-icon--left":this.left,"v-icon--link":this.hasClickListener,"v-icon--right":this.right,"v-icon--dense":this.dense},attrs:Object(b["a"])({"aria-hidden":!this.hasClickListener,disabled:this.hasClickListener&&this.disabled,type:this.hasClickListener?"button":void 0},this.attrs$),on:this.listeners$};return t},applyColors:function(t){t.class=Object(b["a"])(Object(b["a"])({},t.class),this.themeClasses),this.setTextColor(this.color,t)},renderFontIcon:function(t,e){var n=[],i=this.getDefaultData(),r="material-icons",o=t.indexOf("-"),a=o<=-1;a?n.push(t):(r=t.slice(0,o),L(r)&&(r="")),i.class[r]=!0,i.class[t]=!a;var s=this.getSize();return s&&(i.style={fontSize:s}),this.applyColors(i),e(this.hasClickListener?"button":this.tag,i,n)},renderSvgIcon:function(t,e){var n=this.getSize(),i=Object(b["a"])(Object(b["a"])({},this.getDefaultData()),{},{style:n?{fontSize:n,height:n,width:n}:void 0});i.class["v-icon--svg"]=!0,this.applyColors(i);var r={attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",height:n||"24",width:n||"24",role:"img","aria-hidden":!0}};return e(this.hasClickListener?"button":"span",i,[e("svg",r,[e("path",{attrs:{d:t}})])])},renderSvgIconComponent:function(t,e){var n=this.getDefaultData();n.class["v-icon--is-component"]=!0;var i=this.getSize();i&&(n.style={fontSize:i,height:i,width:i}),this.applyColors(n);var r=t.component;return n.props=t.props,n.nativeOn=n.on,e(r,n)}},render:function(t){var e=this.getIcon();return"string"===typeof e?I(e)?this.renderSvgIcon(e,t):this.renderFontIcon(e,t):this.renderSvgIconComponent(e,t)}}),R=u["a"].extend({name:"v-icon",$_wrapperFor:A,functional:!0,render:function(t,e){var n=e.data,i=e.children,r="";return n.domProps&&(r=n.domProps.textContent||n.domProps.innerHTML||r,delete n.domProps.textContent,delete n.domProps.innerHTML),t(A,n,r?[r]:i)}}),B=Object(m["a"])(p,o,a,!1,null,null,null),D=B.exports;g()(B,{VIcon:R}),u["a"].use(f.a);var $={name:"Room",components:{ShogiBoard:D}},Y=$,N=Object(m["a"])(Y,i,r,!1,null,null,null);e["default"]=N.exports},4804:function(t,e,n){},"96cf":function(t,e,n){var i=function(t){"use strict";var e,n=Object.prototype,i=n.hasOwnProperty,r="function"===typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",s=r.toStringTag||"@@toStringTag";function c(t,e,n,i){var r=e&&e.prototype instanceof m?e:m,o=Object.create(r.prototype),a=new T(i||[]);return o._invoke=O(t,n,a),o}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(i){return{type:"throw",arg:i}}}t.wrap=c;var l="suspendedStart",f="suspendedYield",h="executing",d="completed",p={};function m(){}function v(){}function g(){}var b={};b[o]=function(){return this};var y=Object.getPrototypeOf,_=y&&y(y(E([])));_&&_!==n&&i.call(_,o)&&(b=_);var w=g.prototype=m.prototype=Object.create(b);function k(t){["next","throw","return"].forEach((function(e){t[e]=function(t){return this._invoke(e,t)}}))}function M(t,e){function n(r,o,a,s){var c=u(t[r],t,o);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"===typeof f&&i.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,s)}))}s(c.arg)}var r;function o(t,i){function o(){return new e((function(e,r){n(t,i,e,r)}))}return r=r?r.then(o,o):o()}this._invoke=o}function O(t,e,n){var i=l;return function(r,o){if(i===h)throw new Error("Generator is already running");if(i===d){if("throw"===r)throw o;return S()}n.method=r,n.arg=o;while(1){var a=n.delegate;if(a){var s=C(a,n);if(s){if(s===p)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===l)throw i=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=h;var c=u(t,e,n);if("normal"===c.type){if(i=n.done?d:f,c.arg===p)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i=d,n.method="throw",n.arg=c.arg)}}}function C(t,n){var i=t.iterator[n.method];if(i===e){if(n.delegate=null,"throw"===n.method){if(t.iterator["return"]&&(n.method="return",n.arg=e,C(t,n),"throw"===n.method))return p;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var r=u(i,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,p;var o=r.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,p):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,p)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function E(t){if(t){var n=t[o];if(n)return n.call(t);if("function"===typeof t.next)return t;if(!isNaN(t.length)){var r=-1,a=function n(){while(++r<t.length)if(i.call(t,r))return n.value=t[r],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}return{next:S}}function S(){return{value:e,done:!0}}return v.prototype=w.constructor=g,g.constructor=v,g[s]=v.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var e="function"===typeof t&&t.constructor;return!!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,s in t||(t[s]="GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},k(M.prototype),M.prototype[a]=function(){return this},t.AsyncIterator=M,t.async=function(e,n,i,r,o){void 0===o&&(o=Promise);var a=new M(c(e,n,i,r),o);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},k(w),w[s]="Generator",w[o]=function(){return this},w.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){while(e.length){var i=e.pop();if(i in t)return n.value=i,n.done=!1,n}return n.done=!0,n}},t.values=E,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0],e=t.completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(i,r){return s.type="throw",s.arg=t,n.next=i,r&&(n.method="next",n.arg=e),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var c=i.call(a,"catchLoc"),u=i.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,p):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var r=i.arg;P(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,i){return this.delegate={iterator:E(t),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),p}},t}(t.exports);try{regeneratorRuntime=i}catch(r){Function("r","regeneratorRuntime = r")(i)}},a434:function(t,e,n){"use strict";var i=n("23e7"),r=n("23cb"),o=n("a691"),a=n("50c4"),s=n("7b0b"),c=n("65f0"),u=n("8418"),l=n("1dde"),f=n("ae40"),h=l("splice"),d=f("splice",{ACCESSORS:!0,0:0,1:2}),p=Math.max,m=Math.min,v=9007199254740991,g="Maximum allowed length exceeded";i({target:"Array",proto:!0,forced:!h||!d},{splice:function(t,e){var n,i,l,f,h,d,b=s(this),y=a(b.length),_=r(t,y),w=arguments.length;if(0===w?n=i=0:1===w?(n=0,i=y-_):(n=w-2,i=m(p(o(e),0),y-_)),y+n-i>v)throw TypeError(g);for(l=c(b,i),f=0;f<i;f++)h=_+f,h in b&&u(l,f,b[h]);if(l.length=i,n<i){for(f=_;f<y-i;f++)h=f+i,d=f+n,h in b?b[d]=b[h]:delete b[d];for(f=y;f>y-i+n;f--)delete b[f-1]}else if(n>i)for(f=y-i;f>_;f--)h=f+i-1,d=f+n-1,h in b?b[d]=b[h]:delete b[d];for(f=0;f<n;f++)b[f+_]=arguments[f+2];return b.length=y-i+n,l}})},c5c5:function(t,e,n){},c96a:function(t,e,n){"use strict";var i=n("23e7"),r=n("857a"),o=n("af03");i({target:"String",proto:!0,forced:o("small")},{small:function(){return r(this,"small","","")}})}}]);